(self.webpackChunk_2023_meiji_mushroom_mountain_store=self.webpackChunk_2023_meiji_mushroom_mountain_store||[]).push([[471],{471:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return M}});var r=e(4942),o=e(885),i=e(7294),c=e(1830),a=e(3379),u=e.n(a),s=e(7795),l=e.n(s),d=e(569),f=e.n(d),p=e(3565),y=e.n(p),b=e(9216),h=e.n(b),v=e(4589),m=e.n(v),g=e(3999),w=e.n(g),x={};x.styleTagTransform=m(),x.setAttributes=y(),x.insert=f().bind(null,"head"),x.domAPI=l(),x.insertStyleElement=h(),u()(w(),x),w()&&w().locals&&w().locals;var k=e(5893);function O(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function j(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?O(Object(e),!0).forEach((function(t){(0,r.Z)(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):O(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}var M=(0,i.memo)((function(n){var t=n.onJoyStickMove,e=n.onJoyStickStop,r=(0,i.useState)({x:.5*window.innerWidth,y:.8*window.innerHeight}),a=(0,o.Z)(r,2),u=a[0],s=a[1],l=(0,i.useState)({x:0,y:0}),d=(0,o.Z)(l,2),f=d[0],p=d[1],y=(0,i.useRef)({enabled:!1,sx:0,sy:0,mx:0,my:0}),b=(0,i.useMemo)((function(){return{left:u.x,top:u.y}}),[u]),h=b.left,v=b.top,m=(0,i.useCallback)((function(){return{x:.5*window.innerWidth,y:.8*window.innerHeight}}),[]);(0,i.useEffect)((function(){var n=function(){return s(m())};return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]);var g=(0,i.useCallback)((function(n){var t,e,r=n.clientX||(null===(t=n.touches)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.clientX),o=n.clientY||(null===(e=n.touches)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.clientY);r&&o&&(s({x:r,y:o}),y.current={enabled:!0,sx:r,sy:o,mx:r,my:o})}),[]),w=(0,i.useCallback)((function(){y.current=j(j({},y.current),{},{enabled:!1}),p({x:0,y:0}),e(),s(m())}),[]),x=(0,i.useCallback)((function(n){var e,r;if(y.current.enabled){var o=n.clientX||(null===(e=n.touches)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.clientX),i=n.clientY||(null===(r=n.touches)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.clientY);if(o&&i){y.current=j(j({},y.current),{},{mx:o,my:i});var a=y.current,u={x:a.sx,y:a.sy},s={x:a.mx,y:a.my},l=(0,c.Cn)(u,s),d=(0,c.wU)(u,s),f=d>97?97:d,b=Math.cos(l)*f,h=Math.sin(l)*f;p({x:b,y:h}),t({angle:l,distance:f})}}}),[]);return(0,k.jsx)("div",{className:"Joystick",onMouseDown:g,onTouchStart:g,onMouseUp:w,onTouchEnd:w,onMouseMove:x,onTouchMove:x,role:"none",children:(0,k.jsx)("div",{className:"panel",style:{left:h,top:v},children:(0,k.jsx)("div",{className:"stick",style:{transform:"translateX(".concat(-f.y,"px) translateY(").concat(-f.x,"px)")}})})})}))},1830:function(n,t,e){"use strict";e.d(t,{Cn:function(){return a},Sy:function(){return l},f0:function(){return s},wU:function(){return u}});var r=e(2982),o=e(3431),i=e.n(o),c=e(46),a=function(n,t){return Math.atan2(n.x-t.x,n.y-t.y)},u=function(n,t){var e=n.x-t.x,r=n.y-t.y;return Math.sqrt(Math.pow(e,2)+Math.pow(r,2))},s=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"inCirc",e=2e4,r="inCirc"===t?c.DO.inCirc:c.DO.linear,o=i()(r[0],r[1],r[2],r[3]),a=Math.floor(o(n/e)*e/1e3);return"inCirc"===t&&n>e?n/1e3:a},l=function(n){for(var t,e=(0,r.Z)(n),o=n.length;0!==o;){t=Math.floor(Math.random()*o),o--;var i=[e[t],e[o]];e[o]=i[0],e[t]=i[1]}return e}},3999:function(n,t,e){var r=e(8081),o=e(3645)(r);o.push([n.id,".Joystick {\n    position: absolute;\n    top: 0px;\n    height: 100%;\n    width: 100%;\n    background-color: transparent\n}\n.Joystick .panel {\n    pointer-events: none;\n    position: absolute;\n    margin-left: -10rem;\n    margin-top: -10rem;\n    height: 20rem;\n    width: 20rem;\n    border-radius: 9999px;\n    --tw-bg-opacity: 1;\n    background-color: rgba(148, 163, 184, 1);\n    background-color: rgba(148, 163, 184, var(--tw-bg-opacity));\n    opacity: 0.4\n}\n.Joystick .panel .stick {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    margin-left: -4rem;\n    margin-top: -4rem;\n    height: 8rem;\n    width: 8rem;\n    border-radius: 9999px;\n    border-width: 4px;\n    --tw-bg-opacity: 1;\n    background-color: rgba(234, 179, 8, 1);\n    background-color: rgba(234, 179, 8, var(--tw-bg-opacity))\n}\n",""]),n.exports=o}}]);