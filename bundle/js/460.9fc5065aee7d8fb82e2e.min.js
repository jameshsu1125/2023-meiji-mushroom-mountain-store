(self.webpackChunk_2023_meiji_mushroom_mountain_store=self.webpackChunk_2023_meiji_mushroom_mountain_store||[]).push([[460,744],{437:function(e,t,n){"use strict";n.d(t,{S:function(){return j},Z:function(){return k}});var o=n(3324),r=n(7294),i=n(1509),a=n(3379),s=n.n(a),c=n(7795),l=n.n(c),u=n(569),d=n.n(u),h=n(3565),f=n.n(h),p=n(9216),m=n.n(p),b=n(4589),y=n.n(b),v=n(1760),g=n.n(v),w={};w.styleTagTransform=y(),w.setAttributes=f(),w.insert=d().bind(null,"head"),w.domAPI=l(),w.insertStyleElement=m(),s()(g(),w),g()&&g().locals&&g().locals;var x=n(5893),O=(0,r.memo)((function(e){var t=e.children,n=e.height,o=void 0===n?"auto":n,r=e.maxWidth,i=void 0===r?"1280px":r;return(0,x.jsx)("div",{className:"Container",style:{height:o},children:(0,x.jsx)("div",{style:{maxWidth:i},children:t})})})),k=O,j=(0,r.memo)((function(e){var t=e.children,n=e.maxWidth,a=void 0===n?"500px":n,s=e.height,c=void 0===s?"auto":s,l=e.fitHeight,u=void 0===l||l,d=(0,r.useState)({maxWidth:"1024px"}),h=(0,o.Z)(d,2),f=h[0],p=h[1];return(0,r.useEffect)((function(){var e=function(){window.innerWidth>i.Ai.md?p({maxWidth:a}):p({maxWidth:"1024px"})};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),(0,x.jsx)("div",{className:"RespondContainer".concat(u?" minHeight":""),children:(0,x.jsx)(O,{maxWidth:f.maxWidth,height:c,children:t})})}))},7431:function(e,t,n){"use strict";var o=n(5861),r=n(4687),i=n.n(r),a=n(9477),s=function(){var e=(0,o.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new a.dpR,e.abrupt("return",new Promise((function(e,o){n.load(t,(function(t){e(t)}),o)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.Z=s},8460:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _e}});var o=n(4942),r=n(3324),i=n(2892),a=n.n(i),s=n(7294),c=n(5787),l=n(46),u=n(3379),d=n.n(u),h=n(7795),f=n.n(h),p=n(569),m=n.n(p),b=n(3565),y=n.n(b),v=n(9216),g=n.n(v),w=n(4589),x=n.n(w),O=n(3955),k=n.n(O),j={};j.styleTagTransform=x(),j.setAttributes=y(),j.insert=m().bind(null,"head"),j.domAPI=f(),j.insertStyleElement=g(),d()(k(),j),k()&&k().locals&&k().locals;var P=n(5893);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=(0,s.memo)((function(){var e=(0,s.useContext)(c.GL),t=(0,r.Z)(e,2),n=t[0],o=t[1],i=n.countdown,a=(0,l.ZP)({opacity:0,scale:1.2}),u=(0,r.Z)(a,2),d=u[0],h=u[1];(0,s.useEffect)((function(){!1!==i&&h({opacity:0,scale:1.2},{duration:1,onEnd:function(){h({opacity:1,scale:1},{duration:500,onEnd:function(){i<=0&&setTimeout((function(){return o((function(e){return S(S({},e),{},{countdown:!1})}))}),500)}})}})}),[i]);var f=(0,s.useMemo)((function(){return i<=0?"GO!":i}),[i]);return(0,P.jsx)("div",{className:"Countdown",children:(0,P.jsx)("div",{style:d,children:f})})})),D=M,C=n(5671),A=n(3144),I=n(2520),Z=n(1214),E=n(9477),B=n(2982),T=n(3687),G=n(4570),L=n(5444),N=n(1509),_=n(2554);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var R={camera:{fov:50,far:75,type:L.CameraType.perspective},sky:{enabled:!1,turbidity:3.6,rayleigh:.165,mieCoefficient:0,mieDirectionalG:.768,inclination:.25,azimuth:.25},controls:{distance:{min:2.5,max:2.5},polar:{min:30,max:30},azimuth:{min:-20,max:-20},default:{polar:50,azimuth:35},offsetAzimuth:0,enabled:!0,panEasing:100},light:{ambient:{color:16777041,intensity:.6},point:{color:16777215,intensity:.1,distance:100,decay:.5,position:{x:2,y:10,z:0}},shadowMapSize:1024,debug:!0},renderer:{alpha:!0,shadowType:E.ntZ,exposure:.9},physics:!0,stats:!1},W=(0,_.Sy)((0,B.Z)(new Array(9).keys()).map((function(e){return(e+1)%9}))),J={number:0,index:0,hasItem:"",drop:!1},H={startCountDown:3,maxMushroom:3,stay:0,collideGroup:{box:1,character:2,bamboo:2,mushroom:3,unset:0},cubes:(0,B.Z)(new Array(9).keys()).map((function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},J);return t.number=4===e||W[e]<=0?5+Math.floor(5*Math.random()):W[e],t.index=e,t})),gameOverStayDuration:2e3},V={x:0,y:1,z:0,polar:50,azimuth:35,distance:window.innerWidth>=N.Ai.md?14:17,duration:5e3},Y=n.p+"bundle/model/bamboo.glb";function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=function(){function e(t){var n=this,o=t.webgl,r=t.collector,i=t.onload;(0,C.Z)(this,e),this.webgl=o,this.collector=r,this.name="bamboo",this.model=null,this.body=null,this.currentDrop=999,this.currentIndex=null,this.serial=H.startCountDown+1,this.countdownSerial=0,this.enabled=!0,this.isTween=!1,this.offset={x:0,z:0},this.property={y:1+.25/.6*1,size:2,gap:.1,offset:{x:-2.1,z:-2.1},correction:{x:-.07/.6*1,y:-.25/.6*1,z:.115/.6*1}},this.getOffset=function(){n.offset.x=1.6*Math.random()-.8,n.offset.z=1.6*Math.random()-.8},this.init(),this.addBamboo().then((function(){return i(n.name)})),this.randomPosition=function(){return Math.floor(9*Math.random())}}return(0,A.Z)(e,[{key:"init",value:function(){var e=this.property,t=e.y,n=e.gap,o=e.size,r=e.offset;this.position=(0,B.Z)(new Array(9).keys()).map((function(e){var i=Math.floor(e/3),a=e%3*o+e%3*n+r.x,s=Math.floor(e/3)*o+i*n+r.z;return{x:a,y:t,z:s}})),this.tweener=new I.default}},{key:"stop",value:function(e){e&&(this.currentDrop=e),this.enabled=!1}},{key:"hide",value:function(){this.body.position.set(10,10,10),this.model.visible=!1}},{key:"setPositionByIndex",value:function(){var e=this;if(this.enabled&&!this.isTween){var t=(0,_.Sy)(this.collector.data.filter((function(e){return!e.drop&&""===e.hasItem}))),n=(0,r.Z)(t,1)[0];if(n){var o=n.index;this.currentIndex=o,this.collector.setBambooIndex(o);var i=this.position[o];i.y=this.property.y-.6,this.tweener.stop().clearQueue().add({from:X(X({},i),{},{y:this.property.y-1}),to:X(X({},i),{},{y:this.property.y}),duration:500,onStart:function(){e.getOffset(),e.model.visible=!0,e.isTween=!0,e.body.type=T.Body.STATIC,e.body.velocity.setZero()},onUpdate:function(t){e.body.position.copy({x:t.x+e.offset.x,y:t.y,z:t.z+e.offset.z})},onComplete:function(t){e.body.position.copy({x:t.x+e.offset.x,y:t.y,z:t.z+e.offset.z}),e.isTween=!1,e.body.type=T.Body.DYNAMIC,e.body.velocity.setZero()}}).play()}}}},{key:"addPhysics",value:function(){var e=this.webgl,t=e.world,n=e.physicsStaticMaterial,o=new T.Cylinder(.1/.6*1,.16/.6*1,.8333333333333334,16,1);this.body=new T.Body({mass:1e4,shape:o,type:T.Body.STATIC,material:n,collisionFilterGroup:H.collideGroup.bamboo,collisionFilterMask:H.collideGroup.box|H.collideGroup.character}),this.body.name=this.name,this.hide(),t.addBody(this.body)}},{key:"addBamboo",value:function(){var e=this;return new Promise((function(t,n){(0,G.Z)(Y).then((function(n){var o=n.model;n.gltf.scene.traverse((function(e){e.isMesh&&(e.castShadow=!0)})),o.scale.set(1,1,1),e.webgl.scene.add(o),e.model=o,e.addPhysics(),t()})).catch(n)}))}},{key:"visible",value:function(e){this.model.visible=e}},{key:"update",value:function(e){if(this.model){var t=(0,_.f0)(e);t>this.serial&&(this.serial=t,this.setPositionByIndex());var n=this.body.position,o=this.property.correction;(this.enabled||this.currentDrop===this.currentIndex)&&this.model.position.copy({x:n.x+o.x,y:n.y+o.y,z:n.z+o.z})}}}]),e}(),Q=n.p+"bundle/model/character3.glb",q=n(3295);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=function(){function e(t){var n=this,o=t.webgl,r=t.onMushroomTrigger,i=t.onBambooTrigger,a=t.onGameOver,s=t.collector,c=t.stopRender,l=t.onload;(0,C.Z)(this,e),this.webgl=o,this.onMushroomTrigger=r,this.onBambooTrigger=i,this.onGameOver=a,this.collector=s,this.stopRender=c,this.name="character",this.model=null,this.mixer=null,this.actions={},this.actionName="idle",this.delta=.03,this.speed=.08,this.isOut=!1,this.moveable=!0,this.bounce=!0,this.track=!1,this.trackID=!1,this.property={size:2,position:{x:0,y:1.5,z:0},correction:{x:0,y:-.38,z:0}},this.addCharacter().then((function(){n.actions[n.actionName].play(),l(n.name)})),this.update()}return(0,A.Z)(e,[{key:"setCharacterMoveSoundTrack",value:function(e){this.track=e}},{key:"setMoveable",value:function(e){this.moveable=e,this.stop()}},{key:"stand",value:function(){var e;this.doActionByName("idle"),this.trackID&&(null===(e=this.track)||void 0===e||e.pause(this.trackID))}},{key:"down",value:function(){this.doActionByName("down")}},{key:"wave",value:function(){var e=this;this.isOut||(this.doActionByName("wave"),this.actions[this.actionName].loop=E.jAl,this.actions[this.actionName]._mixer.addEventListener("finished",(function(){e.stand(),e.actions[e.actionName].loop=E.YKA,Object.keys(e.actions).forEach((function(t){e.actions[t].loop=E.YKA}))})))}},{key:"walk",value:function(){var e,t;this.isOut||(this.doActionByName("run"),this.trackID?null===(e=this.track)||void 0===e||e.play(this.trackID):this.trackID=null===(t=this.track)||void 0===t?void 0:t.play())}},{key:"stop",value:function(){this.model&&!this.isOut&&this.stand()}},{key:"rotate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new E._fP;t.setFromAxisAngle(new E.Pa4(0,1,0).normalize(),e),this.model.rotation.setFromQuaternion(t)}},{key:"doActionByName",value:function(e){e!==this.actionName&&(this.actionName&&this.actions[this.actionName].stop(),this.actions[e].play(),this.actionName=e)}},{key:"addPhysics",value:function(){var e=this,t=this.webgl,n=t.world,o=t.physicsImpactMaterial,r=new T.Sphere(.4);this.body=new T.Body({mass:100,shape:r,type:T.Body.DYNAMIC,material:o,collisionFilterGroup:H.collideGroup.character}),this.body.position.copy(this.property.position),this.body.addEventListener("collide",(function(t){var n=t.body.name,o=t.target;if(n.indexOf("box")>=0){o.velocity.setZero();var r=Number(n.slice(3));return e.collector.stay=r,void(e.moveable||(e.moveable=!0))}if("bamboo"===n){var i=t.body.position,a=o.position,s={x:2*(i.x-a.x>0?1:-1)*-1.5,z:2*(i.z-a.z>0?1:-1)*-1.5,y:8};o.velocity.setZero(),e.setMoveable(!1),requestAnimationFrame((function(){var t;o.velocity.set(s.x,s.y,s.z),e.trackID&&(null===(t=e.track)||void 0===t||t.pause(e.trackID)),e.onBambooTrigger()}))}else{var c=t.body;if(c.type=T.Body.STATIC,c.velocity.setZero(),c.position.y=-1,setTimeout((function(){c.position.y=-1e3}),50),!e.bounce)return;e.bounce=!1,e.onMushroomTrigger(),setTimeout((function(){e.bounce=!0}),500)}})),n.addBody(this.body)}},{key:"addCharacter",value:function(){var e=this;return new Promise((function(t,n){(0,G.Z)(Q).then((function(n){var o=n.model,r=n.gltf;r.scene.traverse((function(e){var t=e;t.isMesh&&(t.castShadow=!0)})),e.mixer=new E.Xcj(r.scene),r.animations.forEach((function(t){var n=t.name,o=e.mixer.clipAction(t);e.actions[n.toLowerCase()]=o})),o.scale.set(.6,.6,.6),e.webgl.scene.add(o),e.model=o,e.addPhysics(),t()})).catch(n)}))}},{key:"visible",value:function(e){this.model.visible=e}},{key:"moveByJoystick",value:function(e){var t=e.angle+Math.PI/180*30;return this.rotate(t-Math.PI),this.walk(),{x:12*Math.cos(t-Math.PI/2)*this.speed,z:12*Math.sin(t+Math.PI/2)*this.speed}}},{key:"moveByKeyBoard",value:function(e){var t=e.direct,n=t.ArrowLeft,o=void 0===n?0:n,r=t.ArrowRight,i=void 0===r?0:r,a=t.ArrowUp,s=void 0===a?0:a,c=t.ArrowDown,l=o-i,u=s-(void 0===c?0:c),d={"00":!1,10:-Math.PI/2,"-10":Math.PI/2,"01":Math.PI,"0-1":0,"-11":Math.PI/4*3,11:-Math.PI/4*3,"1-1":-Math.PI/4,"-1-1":Math.PI/4}["".concat(l).concat(u)];return!1!==d?(this.rotate(d),this.walk()):this.stop(),{x:l,z:u}}},{key:"move",value:function(e){var t=e.mode,n=e.direct,o=e.angle;if(t!==q.VC.unset){if(!this.isOut&&this.moveable&&(this.body||this.model)){var r=t===q.VC.keyboard?this.moveByKeyBoard({direct:n}):this.moveByJoystick({angle:o}),i=r.x,a=r.z,s=ee({},this.body.position);s.x-=i*this.speed,s.z-=a*this.speed,this.body.velocity.x=0,this.body.velocity.z=0,s.x>3&&(s.x=3),s.x<-3&&(s.x=-3),s.z<-3&&(s.z=-3),s.z>3&&(s.z=3),this.body.position.x=s.x,this.body.position.z=s.z}}else this.stop()}},{key:"kickOut",value:function(){this.body.velocity.y=-10,this.setMoveable(!1)}},{key:"update",value:function(){if(this.model){var e,t=this.body.position,n=this.property.correction,o=ee({},t);if(o.x+=n.x,o.y+=n.y,o.z+=n.z,this.model.position.copy(o),null===(e=this.mixer)||void 0===e||e.update(this.delta),this.isOut)return;t.y<=1.25&&(this.isOut=!0,this.down(),this.collector.stay=999,this.stopRender(),this.onGameOver())}}}]),e}(),ne=function(){function e(){(0,C.Z)(this,e),this.data=(0,B.Z)(H.cubes),this.stay=4,this.bambooName="bamboo",this.mushroomName="mushroom",this.mushroomData=[]}return(0,A.Z)(e,[{key:"setBambooIndex",value:function(e){var t=this;this.data.forEach((function(e){e.hasItem===t.bambooName&&(e.hasItem="")})),this.data.forEach((function(n){n.index===e&&(n.hasItem=t.bambooName)}))}},{key:"setMushroomIndex",value:function(e){var t=this;this.data.forEach((function(e){if(t.mushroomData.length>2){var n=(0,r.Z)(t.mushroomData,1)[0];e.index===n.index&&(e.hasItem="",t.mushroomData.shift())}})),this.data.forEach((function(n){n.index===e&&(n.hasItem=t.mushroomName,t.mushroomData.push(n))}))}}]),e}(),oe=function(){function e(t){var n=t.character,o=t.bamboo,r=t.mushroom,i=t.cubes,a=t.onCollide;(0,C.Z)(this,e),this.character=n,this.bamboo=o,this.mushroom=r,this.cubes=i,this.onCollide=a,this.enabled=!0,this.mode=q.VC.unset,this.direct={},this.addEvents()}return(0,A.Z)(e,[{key:"stop",value:function(){this.enabled=!1}},{key:"moveJoystick",value:function(e){this.enabled&&(this.mode=q.VC.joystick,this.angle=e.angle,this.distance=e.distance)}},{key:"stopJoystick",value:function(){this.enabled&&(this.mode=q.VC.unset,this.angle=0,this.distance=0)}},{key:"addEvents",value:function(){var e=this;window.addEventListener("keydown",(function(t){if(e.enabled){e.mode=q.VC.keyboard;var n=t.key;switch(n){case"ArrowLeft":case"ArrowUp":case"ArrowRight":case"ArrowDown":e.direct[n]=1}}})),window.addEventListener("keyup",(function(t){if(e.enabled){var n=t.key;switch(n){case"ArrowLeft":case"ArrowUp":case"ArrowRight":case"ArrowDown":e.direct[n]=0}}}))}}]),e}(),re=n(5861),ie=n(4687),ae=n.n(ie),se=n(7431),ce=n.p+"bundle/image/pages/game/game/texture/cube-top.jpg",le=n.p+"bundle/image/pages/game/game/texture/cube-side.jpg",ue=function(){function e(t){var n=t.webgl,o=t.collector,r=t.onGameCountDown,i=t.onGameOver,a=t.stopRender,s=t.onload;(0,C.Z)(this,e),this.webgl=n,this.collector=o,this.onGameCountDown=r,this.onGameOver=i,this.stopRender=a,this.onload=s,this.name="box",this.serial=H.startCountDown+1,this.countdownSerial=!1,this.enabled=!0,this.currentDropIndex=999,this.boxes=[],this.bodies=[],this.numberOfBox=o.data.length,this.size=2,this.gapSize=.1,this.addBoxes()}var t;return(0,A.Z)(e,[{key:"addPhysics",value:function(e){var t=e.col,n=e.row,o=e.i,r=this.webgl,i=r.world,a=r.physicsStaticMaterial,s=new T.Vec3(1,1,1),c=new T.Box(s),l=new T.Body({mass:0,shape:c,type:T.Body.STATIC,material:a,collisionFilterGroup:H.collideGroup.box,collisionFilterMask:H.collideGroup.bamboo|H.collideGroup.mushroom|H.collideGroup.character}),u=1*(this.size+this.gapSize),d=1*(this.size+this.gapSize),h=o%3*this.size+n*this.gapSize-u,f=Math.floor(o/3)*this.size+t*this.gapSize-d;l.position.set(h,0,f),l.name=this.name+o,i.addBody(l),this.bodies.push(l)}},{key:"addBoxes",value:(t=(0,re.Z)(ae().mark((function e(){var t,n,o,r,i,a,s,c=this;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,se.Z)(ce);case 2:return t=e.sent,e.next=5,(0,se.Z)(le);case 5:n=e.sent,t.wrapS=E.rpg,t.wrapT=E.rpg,t.repeat.set(1,.1),t.encoding=E.knz,o=this.webgl.scene,r=new E.ZAu,i=new E.DvJ(this.size,this.size,this.size),a=new E.YBo({color:1641989}),s=new E.Wid({map:n}),this.boxes=(0,B.Z)(new Array(this.numberOfBox).keys()).map((function(e){var n=new E.vBJ({map:t.clone()});n.map.offset.set(0,.1*(c.numberOfBox-c.collector.data[e].number));var o=new E.Kj0(i,[s,s,n,a,s,s]),l=Math.floor(e/3),u=e%3,d=e%3*c.size+u*c.gapSize,h=Math.floor(e/3)*c.size+l*c.gapSize;return o.receiveShadow=!0,o.position.set(d,0,h),r.add(o),c.addPhysics({col:l,row:u,i:e}),o})),r.position.x=0-1*(this.size+this.gapSize),r.position.z=0-1*(this.size+this.gapSize),o.add(r),this.onload(this.name),this.addShadow();case 21:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"addShadow",value:function(){var e=this.webgl.scene,t=new E.nvb(6.22,6.22,.01),n=new E.Tn7({opacity:.2}),o=new E.Kj0(t,n);o.position.y=1,o.rotation.x=Math.PI/2,o.receiveShadow=!0,e.add(o)}},{key:"visible",value:function(e){this.boxes.forEach((function(t){t.visible=e}))}},{key:"stop",value:function(){var e=this;this.enabled=!1,this.bodies.forEach((function(t,n){n!==e.currentDropIndex&&(t.position.y=-100)}))}},{key:"out",value:function(){this.onGameOver(),this.stopRender(this.currentDropIndex)}},{key:"updateMaterial",value:function(){var e=this;this.boxes.forEach((function(t,n){var o=t.material[2].map,r=e.collector.data[n].number,i=Math.round(e.numberOfBox-r);if(o.offset.setY(i/10),i===e.numberOfBox)if(e.collector.stay===n){e.collector.data[n].drop=!0;var a=e.bodies[n];a.mass=1e4,a.updateMassProperties(),a.type=T.Body.DYNAMIC,a.velocity.set(0,-10,0),e.currentDropIndex=n,e.out()}else e.collector.data[n].number=10,o.offset.setY(1)}))}},{key:"setMaterialByIndex",value:function(){this.collector.data.forEach((function(e){var t=e.number-1;e.number=t<0?0:t})),this.updateMaterial()}},{key:"update",value:function(e){var t=this;if(this.bodies.length===this.numberOfBox){var n=(0,_.f0)(e,"linear");n>this.serial&&(this.serial=n,this.enabled&&this.setMaterialByIndex()),n!==this.countdownSerial&&this.countdownSerial<H.startCountDown+1&&(this.countdownSerial=n,this.onGameCountDown(H.startCountDown-n)),(0,B.Z)(new Array(this.numberOfBox).keys()).forEach((function(e){var n=t.bodies[e],o=t.boxes[e],r=n.position,i=-t.size-t.gapSize,a=-t.size-t.gapSize;(t.enabled||e===t.currentDropIndex)&&o.position.copy({x:r.x-i,y:r.y-0,z:r.z-a})}))}}}]),e}(),de=n.p+"bundle/model/mushroom2.glb";function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pe=function(){function e(t){var n=this,o=t.webgl,r=t.collector,i=t.onload;(0,C.Z)(this,e),this.webgl=o,this.collector=r,this.name="mushroom",this.models=[],this.bodies=[],this.serial=H.startCountDown+1,this.enabled=!0,this.offset={x:0,z:0},this.currentDrop=999,this.getOffset=function(){n.offset.x=1.2*Math.random()-.6,n.offset.z=1.2*Math.random()-.6},this.property={index:5,y:1.15,size:2,gap:.1,offset:{x:-2.1,z:-2.1},correction:{x:-.08/.6*1,y:-.15,z:.095/.6*1}},this.init(),this.addMushroom().then((function(){return i(n.name)})),this.randomPosition=function(){return Math.floor(9*Math.random())}}return(0,A.Z)(e,[{key:"stop",value:function(e){this.enabled=!1,e&&(this.currentDrop=e)}},{key:"init",value:function(){var e=this.property,t=e.y,n=e.size,o=e.gap,r=e.offset;this.position=(0,B.Z)(new Array(9).keys()).map((function(e){var i=Math.floor(e/3),a=e%3*n+e%3*o+r.x,s=Math.floor(e/3)*n+i*o+r.z;return{x:a,y:t,z:s}})),this.tweeners=(0,B.Z)(new Array(H.maxMushroom).keys()).map((function(){return new I.default}))}},{key:"setPositionByIndex",value:function(){var e=this;if(this.enabled){var t=(0,_.Sy)(this.collector.data.filter((function(t,n){return!t.drop&&e.collector.stay!==n&&""===t.hasItem}))),n=(0,r.Z)(t,1)[0];if(n){var o=n.index;this.collector.setMushroomIndex(o);var i=this.position[o];i.y=this.property.y-.6;var a=this.serial%H.maxMushroom,s=this.tweeners[a],c=this.bodies[a],l=this.models[a];l.dropIndex=o,s&&s.stop().clearQueue().add({from:fe(fe({},i),{},{y:this.property.y-1}),to:fe(fe({},i),{},{y:this.property.y}),duration:200,onStart:function(){e.getOffset(),l.visible=!0,c.type=T.Body.STATIC,c.collisionFilterMask=H.collideGroup.unset,c.velocity.setZero(),l.rotation.y=Math.random(2*Math.PI),l.rotation.x=Math.PI/180*(20*Math.random()-10),l.rotation.z=Math.PI/180*(20*Math.random()-10)},onUpdate:function(t){c.position.copy({x:t.x+e.offset.x,y:t.y,z:t.z+e.offset.z})},onComplete:function(t){c.position.copy({x:t.x+e.offset.x,y:t.y,z:t.z+e.offset.z}),c.type=T.Body.DYNAMIC,c.velocity.setZero(),c.quaternion.setFromAxisAngle(new T.Vec3(1,0,0),0),c.collisionFilterMask=H.collideGroup.box|H.collideGroup.character}}).play()}}}},{key:"addPhysics",value:function(){var e=this,t=this.webgl,n=t.world,o=t.physicsStaticMaterial,r=new T.Cylinder(.16/.6*1,.16/.6*1,.33333333333333337,16,1);this.bodies=(0,B.Z)(new Array(H.maxMushroom).keys()).map((function(){var t=new T.Body({mass:100,shape:r,type:T.Body.STATIC,material:o,collisionFilterGroup:H.collideGroup.mushroom,collisionFilterMask:H.collideGroup.box|H.collideGroup.character});return t.name=e.name,n.addBody(t),t}))}},{key:"addMushroom",value:function(){var e=this;return new Promise((function(t,n){(0,G.Z)(de).then((function(n){var o=n.model;n.gltf.scene.traverse((function(e){var t=e;t.isMesh&&(t.castShadow=!0)})),o.scale.set(1,1,1),e.models=(0,B.Z)(new Array(H.maxMushroom).keys()).map((function(){var t=o.clone();return e.webgl.scene.add(t),t})),e.addPhysics(),t()})).catch(n)}))}},{key:"visible",value:function(e){this.models.forEach((function(t){t.visible=e}))}},{key:"update",value:function(e){var t=this;if(0!==this.models.length){var n=(0,_.f0)(e,"linear");n>this.serial&&(this.serial=n,this.setPositionByIndex()),(0,B.Z)(new Array(H.maxMushroom).keys()).forEach((function(e){var n=t.models[e],o=t.bodies[e].position,r=t.property.correction;(t.enabled||t.currentDrop===n.dropIndex)&&n.position.copy({x:o.x+r.x,y:o.y+r.y,z:o.z+r.z})}))}}}]),e}();function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye=function(){function e(t){var n=this,o=t.onMushroomTrigger,r=t.onBambooTrigger,i=t.onModulesLoaded,a=t.onGameCountDown,s=t.onGameOver,c=t.onCameraZoomOuted;(0,C.Z)(this,e),this.webgl=new Z.Z(R),this.webgl.controls.controls.enablePan=!1,this.webgl.render.outputEncoding=E.knz,this.onMushroomTrigger=o,this.onModulesLoaded=i,this.onGameOver=s,this.onCameraZoomOuted=c,this.onGameCountDown=a,this.collector=new ne,this.cubes=null,this.character=null,this.mushroom=null,this.bamboo=null,this.controller=null,this.moreLights=[{x:3,y:1.5,z:3},{x:-3,y:1.5,z:3}],this.lookTarget={x:0,y:2,z:0},this.webgl.controls.lookAt(this.lookTarget),this.loaderData={},this.onGLBLoaded=function(e){n.loaderData[e]=!0,Object.keys(n.loaderData).length>=4&&i()},this.gameStart=!1,this.firstDelta=!1,this.addMushroom(),this.addBamboo(),this.addCubes(s),this.addCharacter(o,r,s),this.addMoreLight(),window.addEventListener("resize",(function(){var e=n.webgl,t=e.camera,o=e.renderer;t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),o.renderer.setSize(window.innerWidth,window.innerHeight)}),!1)}return(0,A.Z)(e,[{key:"setCharacterMoveSoundTrack",value:function(e){this.character.setCharacterMoveSoundTrack(e)}},{key:"addMoreLight",value:function(){var e=this.webgl.scene;this.moreLights.forEach((function(t){var n=new E.cek(R.light.point.color,1,R.light.point.distance);n.position.set(t.x,t.y,t.z),n.castShadow=!1,e.add(n)}))}},{key:"start",value:function(e){e.appendChild(this.webgl.render.domElement),this.update(),this.character.wave(),this.zoomOut()}},{key:"zoomOut",value:function(){var e=this,t=be(be({},this.webgl.controls.get()),this.lookTarget),n=be({},V);delete n.duration;var o=function(t){e.webgl.controls.set(t),e.webgl.controls.lookAt(t)};new I.default({from:t,to:n,easing:I.Bezier.easeInOutQuart,duration:V.duration,onUpdate:o,onComplete:function(t){o(t),e.onCameraZoomOuted()}}).play()}},{key:"begin",value:function(){this.addController(),this.gameStart=!0}},{key:"addController",value:function(){var e=this.webgl,t=this.cubes,n=this.character,o=this.mushroom,r=this.bamboo;this.controller=new oe({webgl:e,cubes:t,character:n,mushroom:o,bamboo:r})}},{key:"addBamboo",value:function(){this.bamboo=new K({webgl:this.webgl,collector:this.collector,onload:this.onGLBLoaded})}},{key:"addMushroom",value:function(){this.mushroom=new pe({webgl:this.webgl,collector:this.collector,onload:this.onGLBLoaded})}},{key:"addCharacter",value:function(e,t,n){var o=this;this.character=new te({webgl:this.webgl,onMushroomTrigger:e,onBambooTrigger:t,onGameOver:n,collector:this.collector,stopRender:function(){var e;null===(e=o.controller)||void 0===e||e.stop(),o.bamboo.stop(),o.mushroom.stop(),o.cubes.stop()},onload:this.onGLBLoaded})}},{key:"addCubes",value:function(e){var t=this;this.cubes=new ue({webgl:this.webgl,onGameOver:e,collector:this.collector,onGameCountDown:this.onGameCountDown,stopRender:function(e){var n;null===(n=t.controller)||void 0===n||n.stop(),t.bamboo.stop(e),t.mushroom.stop(e),t.cubes.stop(),t.character.kickOut()},onload:this.onGLBLoaded})}},{key:"update",value:function(){var e=this,t=this.webgl.enterframe;t.add((function(t){var n=t.delta;if(e.gameStart){var o,r,i;!1===e.firstDelta&&(e.firstDelta=n);var a=n-e.firstDelta;null===(o=e.bamboo)||void 0===o||o.update(a),null===(r=e.mushroom)||void 0===r||r.update(a),null===(i=e.cubes)||void 0===i||i.update(a)}e.controller&&e.character.move(e.controller),e.character.update()})),t.play()}}]),e}(),ve=n(8053),ge=n.n(ve),we={};we.styleTagTransform=x(),we.setAttributes=y(),we.insert=m().bind(null,"head"),we.domAPI=f(),we.insertStyleElement=g(),d()(ge(),we),ge()&&ge().locals&&ge().locals;var xe=n(9492),Oe=n(1705),ke=n.n(Oe),je={};function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}je.styleTagTransform=x(),je.setAttributes=y(),je.insert=m().bind(null,"head"),je.domAPI=f(),je.insertStyleElement=g(),d()(ke(),je),ke()&&ke().locals&&ke().locals;var Se=(0,s.memo)((function(){var e=(0,s.useContext)(c.GL),t=(0,r.Z)(e,2)[1],n=(0,l.ZP)({opacity:0,scale:2}),o=(0,r.Z)(n,2),i=o[0],a=o[1];return(0,s.useEffect)((function(){a({opacity:1,scale:1},{duration:500,delay:500,onEnd:function(){setTimeout((function(){t((function(e){return ze(ze({},e),{},{page:c.iQ.result})}))}),H.gameOverStayDuration)}})}),[]),(0,P.jsx)("div",{className:"Over",children:(0,P.jsxs)("div",{style:i,children:[(0,P.jsx)("div",{children:"GAME"}),(0,P.jsx)("div",{children:"OVER"})]})})})),Me=n(6912),De=n(437),Ce=n(3107),Ae=n.n(Ce),Ie={};Ie.styleTagTransform=x(),Ie.setAttributes=y(),Ie.insert=m().bind(null,"head"),Ie.domAPI=f(),Ie.insertStyleElement=g(),d()(Ae(),Ie),Ae()&&Ae().locals&&Ae().locals;var Ze,Ee=function(e){var t=e.transition,n=e.children,o=(0,l.ZP)({opacity:1,y:-100}),i=(0,r.Z)(o,2),a=i[0],c=i[1];return(0,s.useEffect)((function(){t===q.yz.fadeIn&&c({opacity:1,y:0},{duration:500,easing:l.DO.outBack})}),[t]),(0,P.jsxs)("div",{style:a,className:"board",children:[(0,P.jsx)("div",{className:"ico"}),(0,P.jsx)("div",{children:(0,P.jsx)("div",{children:n})}),(0,P.jsx)("div",{children:"朵"})]})},Be=(0,s.memo)((function(){var e=(0,s.useContext)(c.GL),t=(0,r.Z)(e,1)[0].score,n=(0,s.useState)(q.yz.unset),o=(0,r.Z)(n,2),i=o[0],a=o[1],l=(0,s.useState)(1),u=(0,r.Z)(l,2),d=u[0],h=u[1];return(0,s.useEffect)((function(){var e=function(){var e=window.innerHeight/808;h(e>1?1:e)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),(0,P.jsx)(Me.Z,{onload:function(){return a(q.yz.fadeIn)},children:(0,P.jsx)("div",{className:"Score",style:{transform:"scale(".concat(d,")")},children:(0,P.jsx)(De.S,{fitHeight:!1,children:(0,P.jsx)("div",{className:"px-20 flex justify-center",children:(0,P.jsx)(Ee,{transition:i,children:t})})})})})})),Te=Be;function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ne=(0,s.memo)((function(){var e=(0,s.useRef)(),t=(0,s.useRef)(),n=(0,s.useContext)(c.GL),o=(0,r.Z)(n,2),i=o[0],l=o[1],u=i.countdown,d=i.over,h=i.page,f=i.soundsLoaded,p=i.sounds,m=(0,s.useState)("mobile"===a().get()),b=(0,r.Z)(m,2),y=b[0],v=b[1],g=(0,s.useCallback)((function(){l((function(e){return Le(Le({},e),{},{steps:c._H.modelLoaded})})),h===c.iQ.game&&t.current.start(e.current)}),[]),w=(0,s.useCallback)((function(){l((function(e){return Le(Le({},e),{},{score:e.score+1})})),p.tracks[c.eu.mushroom].sound.play()}),[]),x=(0,s.useCallback)((function(){p.tracks[c.eu.bamboo].sound.play()}),[]),O=(0,s.useCallback)((function(){l((function(e){return Le(Le({},e),{},{over:!0})})),p.tracks[c.eu.move].sound.stop(),p.tracks[c.eu.falling].sound.play()}),[]),k=(0,s.useCallback)((function(){t.current.begin(),l((function(e){return Le(Le({},e),{},{steps:c._H.didFadeIn})}))}),[]),j=(0,s.useCallback)((function(e){l((function(t){return Le(Le({},t),{},{countdown:e})}))}),[]),z=(0,s.useCallback)((function(e){var n;null===(n=t.current)||void 0===n||null===(n=n.controller)||void 0===n||n.moveJoystick(e)}),[]),S=(0,s.useCallback)((function(){var e;null===(e=t.current)||void 0===e||null===(e=e.controller)||void 0===e||e.stopJoystick()}),[]);return(0,s.useEffect)((function(){var n=function(){return v("mobile"===a().get())};return window.addEventListener("resize",n),Ze?(t.current=Ze,t.current.start(e.current)):(Ze=new ye({onMushroomTrigger:w,onBambooTrigger:x,onModulesLoaded:g,onGameOver:O,onCameraZoomOuted:k,onGameCountDown:j}),t.current=Ze),function(){var e;null===(e=t.current.webgl)||void 0===e||e.enterframe.stop(),window.removeEventListener("resize",n)}}),[]),(0,s.useEffect)((function(){f&&(p.tracks[c.eu.bgm].sound.play(),t.current.setCharacterMoveSoundTrack(p.tracks[c.eu.move].sound))}),[f]),(0,P.jsxs)("div",{className:"WebGL",children:[(0,P.jsx)("div",{ref:e,className:"h-full w-full"}),i.steps===c._H.didFadeIn&&(0,P.jsx)(Te,{}),y&&i.steps===c._H.didFadeIn&&(0,P.jsx)(xe.default,{onJoyStickMove:z,onJoyStickStop:S}),!1!==u&&(0,P.jsx)(D,{}),d&&(0,P.jsx)(Se,{}),f&&(0,P.jsx)("div",{className:"absolute top-0 left-0",children:"icon"})]})})),_e=Ne},9492:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});var o=n(4942),r=n(3324),i=n(7294),a=n(2554),s=n(3379),c=n.n(s),l=n(7795),u=n.n(l),d=n(569),h=n.n(d),f=n(3565),p=n.n(f),m=n(9216),b=n.n(m),y=n(4589),v=n.n(y),g=n(3411),w=n.n(g),x={};x.styleTagTransform=v(),x.setAttributes=p(),x.insert=h().bind(null,"head"),x.domAPI=u(),x.insertStyleElement=b(),c()(w(),x),w()&&w().locals&&w().locals;var O=n(5893);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=(0,i.memo)((function(e){var t=e.onJoyStickMove,n=e.onJoyStickStop,o=(0,i.useState)({x:.5*window.innerWidth,y:.8*window.innerHeight}),s=(0,r.Z)(o,2),c=s[0],l=s[1],u=(0,i.useState)({x:0,y:0}),d=(0,r.Z)(u,2),h=d[0],f=d[1],p=(0,i.useRef)({enabled:!1,sx:0,sy:0,mx:0,my:0}),m=(0,i.useMemo)((function(){return{left:c.x,top:c.y}}),[c]),b=m.left,y=m.top,v=(0,i.useCallback)((function(){return{x:.5*window.innerWidth,y:.8*window.innerHeight}}),[]);(0,i.useEffect)((function(){var e=function(){return l(v())};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var g=(0,i.useCallback)((function(e){var t,n,o=e.clientX||(null===(t=e.touches)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.clientX),r=e.clientY||(null===(n=e.touches)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.clientY);o&&r&&(l({x:o,y:r}),p.current={enabled:!0,sx:o,sy:r,mx:o,my:r})}),[]),w=(0,i.useCallback)((function(){p.current=j(j({},p.current),{},{enabled:!1}),f({x:0,y:0}),n(),l(v())}),[]),x=(0,i.useCallback)((function(e){var n,o;if(p.current.enabled){var r=e.clientX||(null===(n=e.touches)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.clientX),i=e.clientY||(null===(o=e.touches)||void 0===o||null===(o=o[0])||void 0===o?void 0:o.clientY);if(r&&i){p.current=j(j({},p.current),{},{mx:r,my:i});var s=p.current,c={x:s.sx,y:s.sy},l={x:s.mx,y:s.my},u=(0,a.Cn)(c,l),d=(0,a.wU)(c,l),h=d>97?97:d,m=Math.cos(u)*h,b=Math.sin(u)*h;f({x:m,y:b}),t({angle:u,distance:h})}}}),[]);return(0,O.jsx)("div",{className:"Joystick",onMouseDown:g,onTouchStart:g,onMouseUp:w,onTouchEnd:w,onMouseMove:x,onTouchMove:x,role:"none",children:(0,O.jsx)("div",{className:"panel",style:{left:b,top:y},children:(0,O.jsx)("div",{className:"stick",style:{transform:"translateX(".concat(-h.y,"px) translateY(").concat(-h.x,"px)")}})})})}))},2554:function(e,t,n){"use strict";n.d(t,{Cn:function(){return s},Sy:function(){return u},f0:function(){return l},wU:function(){return c}});var o=n(2982),r=n(3431),i=n.n(r),a=n(46),s=function(e,t){return Math.atan2(e.x-t.x,e.y-t.y)},c=function(e,t){var n=e.x-t.x,o=e.y-t.y;return Math.sqrt(Math.pow(n,2)+Math.pow(o,2))},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"inCirc",n=2e4,o="inCirc"===t?a.DO.inCirc:a.DO.linear,r=i()(o[0],o[1],o[2],o[3]),s=Math.floor(r(e/n)*n/1e3);return"inCirc"===t&&e>n?e/1e3:s},u=function(e){for(var t,n=(0,o.Z)(e),r=e.length;0!==r;){t=Math.floor(Math.random()*r),r--;var i=[n[t],n[r]];n[r]=i[0],n[t]=i[1]}return n}},1760:function(e,t,n){var o=n(8081),r=n(3645)(o);r.push([e.id,".Container {\n  position: relative;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  width: 100%;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.Container > div {\n  width: 100%;\n}\n.minHeight {\n  min-height: calc(100vh - 80px - 1.3rem);\n}\n.RespondContainer {\n  width: 100%;\n}\n@media only screen and (max-width: 768px) {\n  .minHeight {\n    min-height: calc(100vh - 134px - 3rem);\n  }\n}\n",""]),e.exports=r},3955:function(e,t,n){var o=n(8081),r=n(3645)(o);r.push([e.id,".Countdown {\n  position: absolute;\n  top: 0px;\n  z-index: 10;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  height: 100%;\n  width: 100%;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.Countdown::before {\n  content: '';\n  position: absolute;\n  top: 0px;\n  height: 100%;\n  width: 100%;\n  --tw-bg-opacity: 1;\n  background-color: rgba(255, 240, 40, 1);\n  background-color: rgba(255, 240, 40, var(--tw-bg-opacity));\n  opacity: 0.5;\n}\n.Countdown > div {\n  font-size: 17rem;\n  font-family: DIN, Aries Bold, sans-serif;\n  --tw-text-opacity: 1;\n  color: rgba(255, 255, 255, 1);\n  color: rgba(255, 255, 255, var(--tw-text-opacity));\n}\n",""]),e.exports=r},8053:function(e,t,n){var o=n(8081),r=n(3645),i=n(1667),a=n(4337),s=r(o),c=i(a);s.push([e.id,".WebGL {\n  margin-top: -80px;\n  background-image: url("+c+");\n  background-position: calc(50% - 120px) calc(100% + 300px);\n  background-size: 2400px;\n  background-repeat: no-repeat;\n  position: relative;\n  height: 100vh;\n  width: 100%;\n  overflow: hidden;\n}\n@media only screen and (max-width: 1024px) {\n  .WebGL {\n    margin-top: -134px;\n  }\n}\n",""]),e.exports=s},3411:function(e,t,n){var o=n(8081),r=n(3645)(o);r.push([e.id,".Joystick {\n  position: absolute;\n  top: 0px;\n  height: 100%;\n  width: 100%;\n  background-color: transparent;\n}\n.Joystick .panel {\n  background-color: rgba(255, 255, 255, 0.7);\n  pointer-events: none;\n  position: absolute;\n  margin-left: -8rem;\n  margin-top: -8rem;\n  height: 16rem;\n  width: 16rem;\n  border-radius: 9999px;\n}\n.Joystick .panel .stick {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  margin-left: -4rem;\n  margin-top: -4rem;\n  height: 8rem;\n  width: 8rem;\n  border-radius: 9999px;\n  --tw-bg-opacity: 1;\n  background-color: rgba(255, 255, 255, 1);\n  background-color: rgba(255, 255, 255, var(--tw-bg-opacity));\n}\n",""]),e.exports=r},1705:function(e,t,n){var o=n(8081),r=n(3645),i=n(1667),a=n(9787),s=n(4634),c=r(o),l=i(a),u=i(s);c.push([e.id,".Over {\n  position: absolute;\n  top: 0px;\n  z-index: 10;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n}\n.Over::before {\n  content: '';\n  position: absolute;\n  top: 0px;\n  height: 100%;\n  width: 100%;\n  --tw-bg-opacity: 1;\n  background-color: rgba(255, 240, 40, 1);\n  background-color: rgba(255, 240, 40, var(--tw-bg-opacity));\n  opacity: 0.5;\n}\n.Over > div {\n  position: relative;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  height: 100%;\n  width: 100%;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.Over > div > div {\n  color: red;\n  font-size: 13rem;\n  line-height: 12rem;\n  position: relative;\n  font-family: DIN, Aries Bold, sans-serif;\n}\n.Over > div > div:nth-child(2) {\n  position: relative;\n}\n.Over > div > div:nth-child(2)::before,\n.Over > div > div:nth-child(2)::after {\n  position: absolute;\n  bottom: 12px;\n  content: '';\n}\n.Over > div > div:nth-child(2)::before {\n  right: -37px;\n  width: 54.4px;\n  height: 138.4px;\n  background-image: url("+l+");\n  background-size: 100%;\n}\n.Over > div > div:nth-child(2)::after {\n  right: -83px;\n  width: 72.8px;\n  height: 77.6px;\n  background-image: url("+u+");\n  background-size: 100%;\n}\n",""]),e.exports=c},3107:function(e,t,n){var o=n(8081),r=n(3645),i=n(1667),a=n(3135),s=r(o),c=i(a);s.push([e.id,".Score {\n  top: 80px;\n  margin-top: 70px;\n  -webkit-transform-origin: center -130px;\n          transform-origin: center -130px;\n  position: absolute;\n  width: 100%;\n}\n.Score .board {\n  height: 80px;\n  background: #663333;\n  background: -webkit-gradient(linear, left bottom, left top, color-stop(50%, #663333), color-stop(50.1%, #7d552e));\n  background: linear-gradient(0deg, #663333 50%, #7d552e 50.1%);\n  -webkit-box-shadow: 0 5px 0 rgba(0, 0, 0, 0.1);\n          box-shadow: 0 5px 0 rgba(0, 0, 0, 0.1);\n  -webkit-transition: 0.05s;\n  transition: 0.05s;\n  position: relative;\n  z-index: 10;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  width: 100%;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n  border-radius: 1.5rem;\n  border-width: 2px;\n  --tw-border-opacity: 1;\n  border-color: rgba(255, 255, 255, 1);\n  border-color: rgba(255, 255, 255, var(--tw-border-opacity));\n}\n.Score .board > div:not(.ico) {\n  pointer-events: none;\n  height: 100%;\n  font-size: 2.25rem;\n  line-height: 2.5rem;\n  --tw-text-opacity: 1;\n  color: rgba(255, 255, 255, 1);\n  color: rgba(255, 255, 255, var(--tw-text-opacity));\n}\n.Score .board > div:nth-child(2) {\n  width: 45%;\n  position: relative;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  font-family: DIN, Aries Bold, sans-serif;\n  letter-spacing: 0.05em;\n}\n.Score .board > div:nth-child(3) {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  width: 33.333333%;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  font-family: MiSans-medium, sans-serif;\n}\n.Score .board > .ico {\n  top: 50%;\n  left: -50px;\n  margin-top: -94.5px;\n  width: 114.1px;\n  height: 189px;\n  background-image: url("+c+");\n  background-size: 100%;\n  content: '';\n  position: absolute;\n}\n@media only screen and (max-width: 1024px) {\n  .Score {\n    top: 134px;\n  }\n  .Score .board {\n    max-width: 500px;\n    height: 120px;\n  }\n  .Score .board > div:not(.ico) {\n    font-size: 3.5rem;\n    line-height: 1;\n  }\n}\n",""]),e.exports=s},3135:function(e,t,n){"use strict";n.r(t),t.default=n.p+"bundle/image/pages/game/game/img/mushroom.png"},9787:function(e,t,n){"use strict";n.r(t),t.default=n.p+"bundle/image/pages/game/game/img/tree-0.png"},4634:function(e,t,n){"use strict";n.r(t),t.default=n.p+"bundle/image/pages/game/game/img/tree-1.png"},4337:function(e,t,n){"use strict";n.r(t),t.default=n.p+"bundle/image/pages/landing/home/img/hill.png"},4247:function(e,t,n){"use strict";var o=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(6690)),i=o(n(9728)),a=o(n(8416));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={hideBeforeLoaded:!0,onUpdate:function(e){}},u=function(e){return e[e.unload=0]="unload",e[e.loading=1]="loading",e[e.loaded=2]="loaded",e}(u||{}),d=function(){function e(){(0,r.default)(this,e),(0,a.default)(this,"index",void 0),(0,a.default)(this,"result",void 0),this.index=0,this.result=[]}return(0,i.default)(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,o=c(c({},l),n),r=o.onUpdate,i=o.hideBeforeLoaded,a="flex"===this.getStyle(e,"display")?"flex":"block";i&&(e.style.display="none");var s=Array.from(e.querySelectorAll("*"));[e].concat(s).forEach((function(e,n){var o=e.tagName,r=e.getAttribute("src"),i=t.getStyle(e,"background-image").replace(/url\((['"])?(.*?)\1\)/gi,"$2").split(",")[0],a=t.getStyle(e,"-webkit-mask-image").replace(/url\((['"])?(.*?)\1\)/gi,"$2").split(",")[0],s=u.unload;return"IMG"===o&&r?(t.result.push({url:r,index:n,status:s}),!0):"DIV"===o&&"none"!==i&&i.indexOf("http")>=0?(t.result.push({url:i,index:n,status:s}),!0):("DIV"===o&&"none"!==a&&t.result.push({url:a,index:n,status:s}),!1)}));var d=function n(o){var s=o.resolve,c=void 0===s?function(e){return console.log(e)}:s,l=o.reject,d=void 0===l?function(e){return console.log(e)}:l;if(0===t.result.length)return i&&(e.style.display=a),void c({total:0,loaded:0});var h=t.result[t.index],f=t.result.length,p=h.url,m=h.index;h.status=u.loading;var b=new Image;b.onload=function(){h.status=u.loaded;var o=t.result.filter((function(e){return e.status===u.loaded})).length;f===o?(i&&(e.style.display=a),requestAnimationFrame((function(){return c({url:p,total:f,loaded:o,index:m})}))):(r({url:p,total:f,loaded:o,index:m}),t.index++,n({resolve:c,reject:d}))},b.src=p};return new Promise((function(e,t){d({resolve:e,reject:t})}))}},{key:"getStyle",value:function(e,t){var n=e.ownerDocument.defaultView;return n&&n.getComputedStyle?(t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),n.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle?(t=t.replace(/\-(\w)/g,(function(e,t){return t.toUpperCase()})),e.currentStyle[t]):""}}]),e}();t.default=d},6912:function(e,t,n){"use strict";var o=n(4836);t.Z=void 0;var r=o(n(8416)),i=o(n(4247)),a=n(7294);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e){var t=e.children,n=e.hideBeforeLoaded,o=e.onStep,r=e.onload,s=(0,a.useRef)();return(0,a.useEffect)((function(){s.current&&(new i.default).load(s.current,{hideBeforeLoaded:n,onUpdate:function(e){return null==o?void 0:o(e)}}).then((function(e){null==r||r(e)}))}),[]),a.Children.map(t,(function(e){return(0,a.cloneElement)(e,c(c({},e.props),{},{ref:s}))}))};l.defaultProps={hideBeforeLoaded:!0,onStep:function(){},onload:function(){}};var u=l;t.Z=u},2892:function(e,t,n){var o,r,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};o=[n,t,n(2437)],r=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=i(n);var o={get:function(e){void 0===e&&(e=!1);var t=new n.default(window.navigator.userAgent);return t.tablet()?e?"desktop":"mobile":t.mobile()?"mobile":"desktop"},facebook:function(){var e=navigator.userAgent||navigator.vendor;return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1},ios:function(){return"iOS"==new n.default(window.navigator.userAgent).os()},android:function(){return"AndroidOS"==new n.default(window.navigator.userAgent).os()},line:function(){var e=navigator.userAgent||navigator.vendor;return e.indexOf("Line")>-1||e.indexOf("Line")>-1},mac:function(){return(navigator.userAgent||navigator.vendor).indexOf("Mac OS X")>-1},pc:function(){return(navigator.userAgent||navigator.vendor).indexOf("Mac OS X")<0}};t.default=o}.apply(t,o),void 0===r||(e.exports=r)}}]);