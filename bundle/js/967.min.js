(self.webpackChunk_2023_meiji_mushroom_mountain_store=self.webpackChunk_2023_meiji_mushroom_mountain_store||[]).push([[967],{5967:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return M}});var r=e(4942),o=e(885),i=e(7294),a=e(3377),c=e(3379),u=e.n(c),l=e(7795),s=e.n(l),d=e(569),f=e.n(d),y=e(3565),p=e.n(y),b=e(9216),m=e.n(b),h=e(4589),v=e.n(h),w=e(8209),g=e.n(w),x={};x.styleTagTransform=v(),x.setAttributes=p(),x.insert=f().bind(null,"head"),x.domAPI=s(),x.insertStyleElement=m(),u()(g(),x),g()&&g().locals&&g().locals;var k=e(5893);function O(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function j(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?O(Object(e),!0).forEach((function(t){(0,r.Z)(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):O(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}var M=(0,i.memo)((function(n){var t=n.onJoyStickMove,e=n.onJoyStickStop,r=(0,i.useState)({x:.5*window.innerWidth,y:.8*window.innerHeight}),c=(0,o.Z)(r,2),u=c[0],l=c[1],s=(0,i.useState)({x:0,y:0}),d=(0,o.Z)(s,2),f=d[0],y=d[1],p=(0,i.useRef)({enabled:!1,sx:0,sy:0,mx:0,my:0}),b=(0,i.useMemo)((function(){return{left:u.x,top:u.y}}),[u]),m=b.left,h=b.top,v=(0,i.useCallback)((function(){return{x:.5*window.innerWidth,y:.8*window.innerHeight}}),[]);(0,i.useEffect)((function(){var n=function(){return l(v())};return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]);var w=(0,i.useCallback)((function(n){var t,e,r=n.clientX||(null===(t=n.touches)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.clientX),o=n.clientY||(null===(e=n.touches)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.clientY);r&&o&&(l({x:r,y:o}),p.current={enabled:!0,sx:r,sy:o,mx:r,my:o})}),[]),g=(0,i.useCallback)((function(){p.current=j(j({},p.current),{},{enabled:!1}),y({x:0,y:0}),e(),l(v())}),[]),x=(0,i.useCallback)((function(n){var e,r;if(p.current.enabled){var o=n.clientX||(null===(e=n.touches)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.clientX),i=n.clientY||(null===(r=n.touches)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.clientY);if(o&&i){p.current=j(j({},p.current),{},{mx:o,my:i});var c=p.current,u={x:c.sx,y:c.sy},l={x:c.mx,y:c.my},s=(0,a.Cn)(u,l),d=(0,a.wU)(u,l),f=d>97?97:d,b=Math.cos(s)*f,m=Math.sin(s)*f;y({x:b,y:m}),t({angle:s,distance:f})}}}),[]);return(0,k.jsx)("div",{className:"Joystick",onMouseDown:w,onTouchStart:w,onMouseUp:g,onTouchEnd:g,onMouseMove:x,onTouchMove:x,role:"none",children:(0,k.jsx)("div",{className:"panel",style:{left:m,top:h},children:(0,k.jsx)("div",{className:"stick",style:{transform:"translateX(".concat(-f.y,"px) translateY(").concat(-f.x,"px)")}})})})}))},3377:function(n,t,e){"use strict";e.d(t,{Cn:function(){return c},Sy:function(){return s},f0:function(){return l},wU:function(){return u}});var r=e(2982),o=e(3431),i=e.n(o),a=e(46),c=function(n,t){return Math.atan2(n.x-t.x,n.y-t.y)},u=function(n,t){var e=n.x-t.x,r=n.y-t.y;return Math.sqrt(Math.pow(e,2)+Math.pow(r,2))},l=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"inCirc",e=2e4,r="inCirc"===t?a.DO.inCirc:a.DO.linear,o=i()(r[0],r[1],r[2],r[3]),c=Math.floor(o(n/e)*e/1e3);return"inCirc"===t&&n>e?n/1e3:c},s=function(n){for(var t,e=(0,r.Z)(n),o=n.length;0!==o;){t=Math.floor(Math.random()*o),o--;var i=[e[t],e[o]];e[o]=i[0],e[t]=i[1]}return e}},8209:function(n,t,e){var r=e(8081),o=e(3645)(r);o.push([n.id,".Joystick {\n    position: absolute;\n    top: 0px;\n    height: 100%;\n    width: 100%;\n    background-color: transparent\n}\n.Joystick .panel {\n    pointer-events: none;\n    position: absolute;\n    margin-left: -10rem;\n    margin-top: -10rem;\n    height: 20rem;\n    width: 20rem;\n    border-radius: 9999px;\n    --tw-bg-opacity: 1;\n    background-color: rgba(148, 163, 184, 1);\n    background-color: rgba(148, 163, 184, var(--tw-bg-opacity));\n    opacity: 0.4\n}\n.Joystick .panel .stick {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    margin-left: -4rem;\n    margin-top: -4rem;\n    height: 8rem;\n    width: 8rem;\n    border-radius: 9999px;\n    border-width: 4px;\n    --tw-bg-opacity: 1;\n    background-color: rgba(234, 179, 8, 1);\n    background-color: rgba(234, 179, 8, var(--tw-bg-opacity))\n}\n",""]),n.exports=o},2982:function(n,t,e){"use strict";e.d(t,{Z:function(){return i}});var r=e(907),o=e(181);function i(n){return function(n){if(Array.isArray(n))return(0,r.Z)(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||(0,o.Z)(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);