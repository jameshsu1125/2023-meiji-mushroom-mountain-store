(self.webpackChunk_2023_meiji_mushroom_mountain_store=self.webpackChunk_2023_meiji_mushroom_mountain_store||[]).push([[492],{9492:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return M}});var r=t(4942),o=t(885),i=t(7294),c=t(2554),u=t(3379),a=t.n(u),s=t(7795),l=t.n(s),d=t(569),f=t.n(d),p=t(3565),y=t.n(p),h=t(9216),v=t.n(h),m=t(4589),b=t.n(m),x=t(3411),w=t.n(x),g={};g.styleTagTransform=b(),g.setAttributes=y(),g.insert=f().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=v(),a()(w(),g),w()&&w().locals&&w().locals;var k=t(5893);function O(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function j(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?O(Object(t),!0).forEach((function(e){(0,r.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var M=(0,i.memo)((function(n){var e=n.onJoyStickMove,t=n.onJoyStickStop,r=(0,i.useState)({x:.5*window.innerWidth,y:.8*window.innerHeight}),u=(0,o.Z)(r,2),a=u[0],s=u[1],l=(0,i.useState)({x:0,y:0}),d=(0,o.Z)(l,2),f=d[0],p=d[1],y=(0,i.useRef)({enabled:!1,sx:0,sy:0,mx:0,my:0}),h=(0,i.useMemo)((function(){return{left:a.x,top:a.y}}),[a]),v=h.left,m=h.top,b=(0,i.useCallback)((function(){return{x:.5*window.innerWidth,y:.8*window.innerHeight}}),[]);(0,i.useEffect)((function(){var n=function(){return s(b())};return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]);var x=(0,i.useCallback)((function(n){var e,t,r=n.clientX||(null===(e=n.touches)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.clientX),o=n.clientY||(null===(t=n.touches)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.clientY);r&&o&&(s({x:r,y:o}),y.current={enabled:!0,sx:r,sy:o,mx:r,my:o})}),[]),w=(0,i.useCallback)((function(){y.current=j(j({},y.current),{},{enabled:!1}),p({x:0,y:0}),t(),s(b())}),[]),g=(0,i.useCallback)((function(n){var t,r;if(y.current.enabled){var o=n.clientX||(null===(t=n.touches)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.clientX),i=n.clientY||(null===(r=n.touches)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.clientY);if(o&&i){y.current=j(j({},y.current),{},{mx:o,my:i});var u=y.current,a={x:u.sx,y:u.sy},s={x:u.mx,y:u.my},l=(0,c.Cn)(a,s),d=(0,c.wU)(a,s),f=d>97?97:d,h=Math.cos(l)*f,v=Math.sin(l)*f;p({x:h,y:v}),e({angle:l,distance:f})}}}),[]);return(0,k.jsx)("div",{className:"Joystick",onMouseDown:x,onTouchStart:x,onMouseUp:w,onTouchEnd:w,onMouseMove:g,onTouchMove:g,role:"none",children:(0,k.jsx)("div",{className:"panel",style:{left:v,top:m},children:(0,k.jsx)("div",{className:"stick",style:{transform:"translateX(".concat(-f.y,"px) translateY(").concat(-f.x,"px)")}})})})}))},2554:function(n,e,t){"use strict";t.d(e,{Cn:function(){return u},Sy:function(){return l},f0:function(){return s},wU:function(){return a}});var r=t(2982),o=t(3431),i=t.n(o),c=t(46),u=function(n,e){return Math.atan2(n.x-e.x,n.y-e.y)},a=function(n,e){var t=n.x-e.x,r=n.y-e.y;return Math.sqrt(Math.pow(t,2)+Math.pow(r,2))},s=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"inCirc",t=2e4,r="inCirc"===e?c.DO.inCirc:c.DO.linear,o=i()(r[0],r[1],r[2],r[3]),u=Math.floor(o(n/t)*t/1e3);return"inCirc"===e&&n>t?n/1e3:u},l=function(n){for(var e,t=(0,r.Z)(n),o=n.length;0!==o;){e=Math.floor(Math.random()*o),o--;var i=[t[e],t[o]];t[o]=i[0],t[e]=i[1]}return t}},3411:function(n,e,t){var r=t(8081),o=t(3645)(r);o.push([n.id,".Joystick {\n  position: absolute;\n  top: 0px;\n  z-index: 10;\n  height: 100%;\n  width: 100%;\n  background-color: transparent;\n}\n.Joystick .panel {\n  background-color: rgba(255, 255, 255, 0.7);\n  pointer-events: none;\n  position: absolute;\n  margin-left: -8rem;\n  margin-top: -8rem;\n  height: 16rem;\n  width: 16rem;\n  border-radius: 9999px;\n}\n.Joystick .panel .stick {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  margin-left: -4rem;\n  margin-top: -4rem;\n  height: 8rem;\n  width: 8rem;\n  border-radius: 9999px;\n  --tw-bg-opacity: 1;\n  background-color: rgba(255, 255, 255, 1);\n  background-color: rgba(255, 255, 255, var(--tw-bg-opacity));\n}\n",""]),n.exports=o}}]);