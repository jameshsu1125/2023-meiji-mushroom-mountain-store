(self.webpackChunk_2023_meiji_mushroom_mountain_store=self.webpackChunk_2023_meiji_mushroom_mountain_store||[]).push([[909,142],{3314:function(e,t,n){"use strict";n.d(t,{Gh:function(){return a},Jm:function(){return i},xh:function(){return o}});var r=n(7294),i={home:"/home",submitted:"/submitted"},o={steps:0,page:i.home},a=(0,r.createContext)(o)},7909:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var r=n(2982),i=n(4942),o=n(885),a=n(7294),c=n(3954),s=n(437),l=n(558),u=n(1393),m=n(2517),p=n(1509),d=n(3295);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var b=n(3314),x=n(3379),j=n.n(x),h=n(7795),g=n.n(h),v=n(569),y=n.n(v),O=n(3565),w=n.n(O),Z=n(9216),P=n.n(Z),k=n(4589),N=n.n(k),W=n(6689),E=n.n(W),_={};_.styleTagTransform=N(),_.setAttributes=w(),_.insert=y().bind(null,"head"),_.domAPI=g(),_.insertStyleElement=P(),j()(E(),_),E()&&E().locals&&E().locals;var D=n(5893);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=(0,a.memo)((function(){var e=(0,a.useRef)(),t=function(){var e=(0,a.useContext)(p._y),t=(0,o.Z)(e,2)[1],n=(0,a.useState)(),r=(0,o.Z)(n,2),c=r[0],s=r[1];return[c,function(e){var n=Object.entries(e).map((function(e){if(!(0,d.Kl[e[0]])(e[1])){var t=Object.entries(d.xW).filter((function(t){return t[1]===e[0]}));return(0,i.Z)({},t[0][0],!1)}var n=Object.entries(d.xW).filter((function(t){return t[1]===e[0]}));return(0,i.Z)({},n[0][0],!0)})).filter((function(e){return!Object.values(e)[0]})).map((function(e){return Object.keys(e)[0]}));if(0===n.length){var r;t({type:d.om.loadingProcess,state:{enabled:!0}});var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);delete o[d.xW.同意辦法],o[d.xW.發票號碼]=o[d.xW.發票號碼].toUpperCase(),o[d.xW.稱呼]=Number(o[d.xW.稱呼]),o[d.xW.年齡區間]=Number(o[d.xW.年齡區間]),setTimeout((function(){s({res:!0,data:o}),t({type:d.om.loadingProcess,state:{enabled:!1}})}),2e3)}else alert((r=n.join(", "),"以下資料格式不正確或是未填寫\n".concat(r,"\n請確認後再試一次。")))}]}(),n=(0,o.Z)(t,2),x=n[0],j=n[1],h=(0,a.useContext)(b.Gh),g=(0,o.Z)(h,2)[1],v=(0,a.useMemo)((function(){return Object.entries(d.xW).map((function(e){return e}))}),[]),y=(0,a.useState)({maxWidth:"1024px"}),O=(0,o.Z)(y,2),w=O[0],Z=O[1];(0,a.useEffect)((function(){x&&(console.log(x),g((function(e){return q(q({},e),{},{page:b.Jm.submitted})})))}),[x]),(0,a.useEffect)((function(){var e=function(){window.innerWidth>p.Ai.md?Z({maxWidth:"500px"}):Z({maxWidth:"1024px"})};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var P=(0,a.useCallback)((function(t){t.preventDefault();var n=e.current.value(),i=new FormData(t.target);i.append("agree",n?"1":"0"),j(Object.fromEntries((0,r.Z)(i)))}),[]);return(0,D.jsx)("div",{className:"InvoiceHome",children:(0,D.jsxs)(s.Z,q(q({},q({},w)),{},{children:[(0,D.jsx)("div",{className:"title"}),(0,D.jsxs)("form",{onSubmit:P,children:[(0,D.jsxs)("div",{className:"inputs",children:[(0,D.jsx)("div",{className:"note",children:"欄位皆為必填"}),(0,D.jsxs)("div",{className:"space-y-5",children:[(0,D.jsx)(l.Z,{labelName:v[0],placeholder:"請輸入真實姓名",type:"text",required:!0}),(0,D.jsx)(l.Z,{labelName:v[1],type:"radio",required:!0}),(0,D.jsx)(l.Z,{labelName:v[2],placeholder:"請選擇",type:"select",required:!0}),(0,D.jsx)(l.Z,{labelName:v[3],placeholder:"請輸入聯絡手機",type:"tel",required:!0}),(0,D.jsx)(l.Z,{labelName:v[4],placeholder:"請輸入E-mail",type:"email",required:!0}),(0,D.jsx)(l.Z,{labelName:v[6],placeholder:"英文2碼＋數字8碼",type:"text",required:!0}),(0,D.jsx)(l.Z,{labelName:v[7],placeholder:"數字4碼",type:"text",required:!0,code:!0})]})]}),(0,D.jsxs)("div",{className:"mb-8 mt-5 w-full",children:[(0,D.jsx)(m.Z,{ref:e}),(0,D.jsx)(u.Z,{})]}),(0,D.jsx)(c.Z,{width:"160px",maxWidth:"100%",type:"submit",children:"確認送出"})]})]}))})}))},6689:function(e,t,n){var r=n(8081),i=n(3645),o=n(1667),a=n(5553),c=i(r),s=o(a);c.push([e.id,".InvoiceHome {\n  width: 100%;\n  padding-left: 6rem;\n  padding-right: 6rem;\n  padding-top: 2.5rem;\n  padding-bottom: 2.5rem;\n}\n.InvoiceHome .inputs {\n  margin-top: 1.25rem;\n  margin-bottom: 1.25rem;\n}\n.InvoiceHome .title {\n  padding-bottom: 13.37748344%;\n  width: 100%;\n  background-image: url("+s+");\n  background-size: cover;\n  margin-top: 1.5rem;\n  margin-bottom: 1.5rem;\n}\n.InvoiceHome .note {\n  color: #636363;\n  margin-bottom: 0.75rem;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  width: 100%;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  text-align: left;\n  font-size: 1.5rem;\n  line-height: 2rem;\n}\n.InvoiceHome .note::before {\n  content: '*';\n  --tw-text-opacity: 1;\n  color: rgba(255, 0, 0, 1);\n  color: rgba(255, 0, 0, var(--tw-text-opacity));\n}\n",""]),e.exports=c},5553:function(e,t,n){"use strict";n.r(t),t.default=n.p+"bundle/image/pages/invoice/home/img/title.png"}}]);