(self.webpackChunk_2023_meiji_mushroom_mountain_store=self.webpackChunk_2023_meiji_mushroom_mountain_store||[]).push([[832,787,219,585],{3954:function(e,n,t){"use strict";t.d(n,{Z:function(){return y}});var r=t(7294),o=t(3379),i=t.n(o),a=t(7795),s=t.n(a),l=t(569),u=t.n(l),c=t(3565),d=t.n(c),f=t(9216),m=t.n(f),p=t(4589),h=t.n(p),b=t(4548),g=t.n(b),x={};x.styleTagTransform=h(),x.setAttributes=d(),x.insert=u().bind(null,"head"),x.domAPI=s(),x.insertStyleElement=m(),i()(g(),x),g()&&g().locals&&g().locals;var v=t(5893),y=(0,r.memo)((function(e){var n=e.children,t=e.width,r=void 0===t?"auto":t,o=e.maxWidth,i=void 0===o?"400px":o,a=e.onClick,s=e.type,l=void 0===s?"button":s;return(0,v.jsxs)("button",{className:"RegularButton",type:l,style:{maxWidth:i},onClick:function(){return null==a?void 0:a()},children:[(0,v.jsx)("div",{children:(0,v.jsx)("div",{style:{width:r},children:n})}),(0,v.jsx)("div",{children:(0,v.jsx)("div",{className:"ico"})})]})}))},2176:function(e,n,t){"use strict";var r=t(885),o=t(7294),i=1050;n.Z=function(){var e=(0,o.useState)(window.innerHeight>=i?1:window.innerHeight/i),n=(0,r.Z)(e,2),t=n[0],a=n[1];return(0,o.useEffect)((function(){var e=function(){a(window.innerHeight>=i?1:window.innerHeight/i)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),[t]}},5787:function(e,n,t){"use strict";t.d(n,{GL:function(){return x},iQ:function(){return h},D2:function(){return g},_H:function(){return p},eu:function(){return b}});var r=t(7294),o=t(885),i=t(5671),a=t(3144),s=t(1766),l=t.p+"bundle/audio/pages/game/mp3/bamboo.mp3",u=t.p+"bundle/audio/pages/game/mp3/bgm.mp3",c=t.p+"bundle/audio/pages/game/mp3/falling.mp3",d=t.p+"bundle/audio/pages/game/mp3/move.mp3",f=t.p+"bundle/audio/pages/game/mp3/mushroom.mp3",m=function(){function e(n){(0,i.Z)(this,e),this.onLoaded=function(){},this.tracks={},this.sounds=[{url:u,name:n.bgm,loop:!0,volume:.5},{url:l,name:n.bamboo,loop:!1,volume:1},{url:f,name:n.mushroom,loop:!1,volume:1},{url:c,name:n.falling,loop:!1,volume:1},{url:d,name:n.move,loop:!0,volume:1}],this.isMute=!1}return(0,a.Z)(e,[{key:"eachSoundLoad",value:function(e){this.tracks[e].loaded=!0,Object.values(this.tracks).filter((function(e){return e.loaded})).length===this.sounds.length&&this.onLoaded()}},{key:"loadSound",value:function(e){var n=this;this.onLoaded=e,this.tracks=Object.fromEntries(this.sounds.map((function(e){var t=new s.Howl({src:[e.url],autoplay:!1,loop:e.loop,volume:e.volume,onload:function(){return n.eachSoundLoad(e.name)}});return[e.name,{sound:t,loaded:!1}]})))}},{key:"mute",value:function(){Object.values(this.tracks).forEach((function(e){e.sound.volume(0)}))}},{key:"unmute",value:function(){var e=this;Object.entries(this.tracks).forEach((function(n){var t=(0,o.Z)(n,2),r=t[0],i=t[1],a=e.sounds.filter((function(e){return String(e.name)===r})),s=(0,o.Z)(a,1)[0].volume;i.sound.volume(s)}))}},{key:"switch",value:function(){this.isMute=!this.isMute,this.isMute?this.mute():this.unmute()}}]),e}(),p={unset:0,loaded:1,modelLoaded:2,didFadeIn:3},h={home:"/home",intro:"/intro",game:"/game",result:"/result",form:"/form",submitted:"/submitted"},b={bgm:0,bamboo:1,mushroom:2,move:3,falling:4},g={steps:p.unset,page:h.home,sounds:new m(b),soundsLoaded:!1,score:0,countdown:!1,over:!1,replay:!1},x=(0,r.createContext)(g)},9832:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return C}});var r=t(4942),o=t(885),i=t(6912),a=t(46),s=t(7294),l=t(3954),u=t(437),c=t(3295),d=t(5787),f=t(3379),m=t.n(f),p=t(7795),h=t.n(p),b=t(569),g=t.n(b),x=t(3565),v=t.n(x),y=t(9216),w=t.n(y),k=t(4589),j=t.n(k),O=t(5090),P=t.n(O),S={};S.styleTagTransform=j(),S.setAttributes=v(),S.insert=g().bind(null,"head"),S.domAPI=h(),S.insertStyleElement=w(),m()(P(),S),P()&&P().locals&&P().locals;var Z=t(2176),R=t(5893);function E(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function B(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?E(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var z=function(e){var n=e.score,t=e.transition,r=(0,a.ZP)({score:0}),i=(0,o.Z)(r,2),l=i[0],u=i[1];return(0,s.useEffect)((function(){t===c.yz.fadeIn&&u({score:n},{duration:1e3,delay:500})}),[t,n]),(0,R.jsx)("div",{className:"score",children:Math.floor(l.score)||0})},D=function(e){var n=e.transition,t=(0,a.ZP)({opacity:0,x:300}),r=(0,o.Z)(t,2),i=r[0],l=r[1];return(0,s.useEffect)((function(){l({opacity:1,x:0},{duration:500})}),[n]),(0,R.jsx)("div",{style:i,className:"text",children:"你總共採了"})},L=function(e){var n=e.transition,t=(0,a.ZP)({opacity:0,scale:0,rotate:-125}),r=(0,o.Z)(t,2),i=r[0],l=r[1];return(0,s.useEffect)((function(){l({opacity:1,scale:1,rotate:0},{duration:500,easing:a.DO.outBack})}),[n]),(0,R.jsx)("div",{style:i,className:"character"})},_=function(e){var n=e.transition,t=e.children,r=e.delay,i=void 0===r?0:r,l=(0,a.ZP)({opacity:0,y:50}),u=(0,o.Z)(l,2),d=u[0],f=u[1];return(0,s.useEffect)((function(){n===c.yz.fadeIn&&f({opacity:1,y:0},{duration:700,delay:i+1300})}),[n]),(0,R.jsx)("div",{style:d,className:"w-full",children:t})},C=(0,s.memo)((function(){var e=(0,s.useContext)(d.GL),n=(0,o.Z)(e,2),t=n[0],r=n[1],a=t.score,f=(0,s.useState)(c.yz.unset),m=(0,o.Z)(f,2),p=m[0],h=m[1],b=(0,Z.Z)(),g=(0,o.Z)(b,1)[0];return(0,R.jsx)(i.Z,{onload:function(){return h(c.yz.fadeIn)},children:(0,R.jsx)("div",{className:"Result",style:{transform:"scale(".concat(g,")"),transformOrigin:"center top"},children:(0,R.jsx)(u.S,{children:(0,R.jsxs)("div",{className:"w-full flex flex-col justify-center items-center pt-8",children:[(0,R.jsx)(L,{transition:p}),(0,R.jsx)(D,{transition:p}),(0,R.jsx)(z,{transition:p,score:a}),(0,R.jsxs)("div",{className:"w-full flex flex-col items-center justify-center px-28 mt-12 pb-10 lg:px-10 space-y-4",children:[(0,R.jsx)(_,{transition:p,children:(0,R.jsx)(l.Z,{maxWidth:"100%",width:"235px",onClick:function(){return r((function(e){return B(B({},e),{},{page:d.iQ.form})}))},children:"填單抽回饋禮"})}),(0,R.jsx)(_,{transition:p,delay:100,children:(0,R.jsx)(l.Z,{maxWidth:"100%",width:"235px",onClick:function(){r((function(e){return B(B({},e),{},{steps:d._H.unset,page:d.iQ.game,replay:!0,over:!1,score:0,countdown:!1})}))},children:"再玩一次"})})]})]})})})})}))},4548:function(e,n,t){var r=t(8081),o=t(3645),i=t(1667),a=t(5411),s=o(r),l=i(a);s.push([e.id,".RegularButton {\n  height: 80px;\n  background: #663333;\n  background: -webkit-gradient(linear, left bottom, left top, color-stop(50%, #663333), color-stop(50.1%, #7d552e));\n  background: linear-gradient(0deg, #663333 50%, #7d552e 50.1%);\n  -webkit-box-shadow: 0 5px 0 rgba(0, 0, 0, 0.1);\n          box-shadow: 0 5px 0 rgba(0, 0, 0, 0.1);\n  -webkit-transition: 0.05s;\n  transition: 0.05s;\n  z-index: 10;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  width: 100%;\n  cursor: pointer;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  border-radius: 1.5rem;\n  border-width: 2px;\n  --tw-border-opacity: 1;\n  border-color: rgba(255, 255, 255, 1);\n  border-color: rgba(255, 255, 255, var(--tw-border-opacity));\n}\n.RegularButton > div {\n  pointer-events: none;\n  height: 100%;\n}\n.RegularButton > div:nth-child(1) {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  width: 66.666667%;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n  padding-right: 1.25rem;\n  font-size: 1.5rem;\n  line-height: 2rem;\n  font-weight: 500;\n  letter-spacing: 0.05em;\n}\n.RegularButton > div:nth-child(1) > div {\n  --tw-text-opacity: 1;\n  color: rgba(255, 255, 255, 1);\n  color: rgba(255, 255, 255, var(--tw-text-opacity));\n}\n.RegularButton > div:nth-child(2) {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  width: 33.333333%;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n}\n.RegularButton > div:nth-child(2) > div {\n  width: 31.2px;\n  height: 31.2px;\n  -webkit-mask-image: url("+l+");\n          mask-image: url("+l+");\n  -webkit-mask-size: 100%;\n          mask-size: 100%;\n  border-radius: 9999px;\n  --tw-bg-opacity: 1;\n  background-color: rgba(255, 255, 255, 1);\n  background-color: rgba(255, 255, 255, var(--tw-bg-opacity));\n}\n.RegularButton:hover {\n  -webkit-box-shadow: 0 7px 0 rgba(0, 0, 0, 0.1);\n          box-shadow: 0 7px 0 rgba(0, 0, 0, 0.1);\n  -webkit-transform: translateY(-2px);\n          transform: translateY(-2px);\n}\n.RegularButton:active {\n  -webkit-box-shadow: 0 0 0 rgba(0, 0, 0, 0.1);\n          box-shadow: 0 0 0 rgba(0, 0, 0, 0.1);\n  -webkit-transform: translateY(5px);\n          transform: translateY(5px);\n}\n@media only screen and (max-width: 1024px) {\n  .RegularButton {\n    max-width: 500px;\n    height: 120px;\n  }\n  .RegularButton > div:nth-child(1) {\n    font-size: 2.25rem;\n    line-height: 2.5rem;\n  }\n  .RegularButton > div:nth-child(2) {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    width: 33.333333%;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: start;\n        -ms-flex-pack: start;\n            justify-content: flex-start;\n  }\n  .RegularButton > div:nth-child(2) > div {\n    width: 42.9px;\n    height: 42.9px;\n  }\n}\n",""]),e.exports=s},5090:function(e,n,t){var r=t(8081),o=t(3645),i=t(1667),a=t(1186),s=o(r),l=i(a);s.push([e.id,".Result {\n  height: 100%;\n  width: 100%;\n  padding-top: 1.25rem;\n  padding-bottom: 1.25rem;\n}\n.Result .character {\n  width: 142.8px;\n  height: 211.8px;\n  background-image: url("+l+");\n  background-size: 100%;\n  -webkit-transform-origin: center bottom;\n          transform-origin: center bottom;\n}\n.Result .text {\n  margin-top: 1.25rem;\n  margin-bottom: 1.25rem;\n  font-family: MiSans-medium, sans-serif;\n  font-size: 2.25rem;\n  line-height: 2.5rem;\n}\n.Result .score {\n  font-size: 17rem;\n  line-height: 17rem;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -webkit-box-align: end;\n      -ms-flex-align: end;\n          align-items: flex-end;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  font-family: DIN, Aries Bold, sans-serif;\n}\n.Result .score::after {\n  content: '朵';\n  margin-bottom: 0.75rem;\n  font-family: MiSans-medium, sans-serif;\n  font-size: 3rem;\n  line-height: 1;\n}\n@media only screen and (max-width: 1024px) {\n  .Result .character {\n    width: 166.6px;\n    height: 247.1px;\n  }\n  .Result .text {\n    font-size: 3rem;\n    line-height: 1;\n  }\n  .Result .score {\n    font-size: 19rem;\n  }\n}\n",""]),e.exports=s},5411:function(e,n,t){"use strict";t.r(n),n.default=t.p+"bundle/image/components/button/img/arrow.svg"},1186:function(e,n,t){"use strict";t.r(n),n.default=t.p+"bundle/image/pages/game/result/img/character.png"},4247:function(e,n,t){"use strict";var r=t(4836);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(t(6690)),i=r(t(9728)),a=r(t(8416));function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){(0,a.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var u={hideBeforeLoaded:!0,onUpdate:function(e){}},c=function(e){return e[e.unload=0]="unload",e[e.loading=1]="loading",e[e.loaded=2]="loaded",e}(c||{}),d=function(){function e(){(0,o.default)(this,e),(0,a.default)(this,"index",void 0),(0,a.default)(this,"result",void 0),this.index=0,this.result=[]}return(0,i.default)(e,[{key:"load",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,r=l(l({},u),t),o=r.onUpdate,i=r.hideBeforeLoaded,a="flex"===this.getStyle(e,"display")?"flex":"block";i&&(e.style.display="none");var s=Array.from(e.querySelectorAll("*"));[e].concat(s).forEach((function(e,t){var r=e.tagName,o=e.getAttribute("src"),i=n.getStyle(e,"background-image").replace(/url\((['"])?(.*?)\1\)/gi,"$2").split(",")[0],a=n.getStyle(e,"-webkit-mask-image").replace(/url\((['"])?(.*?)\1\)/gi,"$2").split(",")[0],s=c.unload;return"IMG"===r&&o?(n.result.push({url:o,index:t,status:s}),!0):"DIV"===r&&"none"!==i&&i.indexOf("http")>=0?(n.result.push({url:i,index:t,status:s}),!0):("DIV"===r&&"none"!==a&&n.result.push({url:a,index:t,status:s}),!1)}));var d=function t(r){var s=r.resolve,l=void 0===s?function(e){return console.log(e)}:s,u=r.reject,d=void 0===u?function(e){return console.log(e)}:u;if(0===n.result.length)return i&&(e.style.display=a),void l({total:0,loaded:0});var f=n.result[n.index],m=n.result.length,p=f.url,h=f.index;f.status=c.loading;var b=new Image;b.onload=function(){f.status=c.loaded;var r=n.result.filter((function(e){return e.status===c.loaded})).length;m===r?(i&&(e.style.display=a),requestAnimationFrame((function(){return l({url:p,total:m,loaded:r,index:h})}))):(o({url:p,total:m,loaded:r,index:h}),n.index++,t({resolve:l,reject:d}))},b.src=p};return new Promise((function(e,n){d({resolve:e,reject:n})}))}},{key:"getStyle",value:function(e,n){var t=e.ownerDocument.defaultView;return t&&t.getComputedStyle?(n=n.replace(/([A-Z])/g,"-$1").toLowerCase(),t.getComputedStyle(e,null).getPropertyValue(n)):e.currentStyle?(n=n.replace(/\-(\w)/g,(function(e,n){return n.toUpperCase()})),e.currentStyle[n]):""}}]),e}();n.default=d},6912:function(e,n,t){"use strict";var r=t(4836);n.Z=void 0;var o=r(t(8416)),i=r(t(4247)),a=t(7294);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){(0,o.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var u=function(e){var n=e.children,t=e.hideBeforeLoaded,r=e.onStep,o=e.onload,s=(0,a.useRef)();return(0,a.useEffect)((function(){s.current&&(new i.default).load(s.current,{hideBeforeLoaded:t,onUpdate:function(e){return null==r?void 0:r(e)}}).then((function(e){null==o||o(e)}))}),[]),a.Children.map(n,(function(e){return(0,a.cloneElement)(e,l(l({},e.props),{},{ref:s}))}))};u.defaultProps={hideBeforeLoaded:!0,onStep:function(){},onload:function(){}};var c=u;n.Z=c}}]);