(self.webpackChunk_2023_meiji_mushroom_mountain_store=self.webpackChunk_2023_meiji_mushroom_mountain_store||[]).push([[492,744],{9492:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return M}});var r=e(4942),o=e(885),i=e(7294),a=e(2554),c=e(3379),u=e.n(c),s=e(7795),l=e.n(s),f=e(569),d=e.n(f),y=e(3565),m=e.n(y),p=e(9216),b=e.n(p),h=e(4589),v=e.n(h),w=e(3411),x=e.n(w),g={};g.styleTagTransform=v(),g.setAttributes=m(),g.insert=d().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=b(),u()(x(),g),x()&&x().locals&&x().locals;var k=e(5893);function O(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function j(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?O(Object(e),!0).forEach((function(t){(0,r.Z)(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):O(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}var M=(0,i.memo)((function(n){var t=n.onJoyStickMove,e=n.onJoyStickStop,r=(0,i.useState)({x:.5*window.innerWidth,y:.8*window.innerHeight}),c=(0,o.Z)(r,2),u=c[0],s=c[1],l=(0,i.useState)({x:0,y:0}),f=(0,o.Z)(l,2),d=f[0],y=f[1],m=(0,i.useRef)({enabled:!1,sx:0,sy:0,mx:0,my:0}),p=(0,i.useMemo)((function(){return{left:u.x,top:u.y}}),[u]),b=p.left,h=p.top,v=(0,i.useCallback)((function(){return{x:.5*window.innerWidth,y:.8*window.innerHeight}}),[]);(0,i.useEffect)((function(){var n=function(){return s(v())};return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]);var w=(0,i.useCallback)((function(n){var t,e,r=n.clientX||(null===(t=n.touches)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.clientX),o=n.clientY||(null===(e=n.touches)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.clientY);r&&o&&(s({x:r,y:o}),m.current={enabled:!0,sx:r,sy:o,mx:r,my:o})}),[]),x=(0,i.useCallback)((function(){m.current=j(j({},m.current),{},{enabled:!1}),y({x:0,y:0}),e(),s(v())}),[]),g=(0,i.useCallback)((function(n){var e,r;if(m.current.enabled){var o=n.clientX||(null===(e=n.touches)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.clientX),i=n.clientY||(null===(r=n.touches)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.clientY);if(o&&i){m.current=j(j({},m.current),{},{mx:o,my:i});var c=m.current,u={x:c.sx,y:c.sy},s={x:c.mx,y:c.my},l=(0,a.Cn)(u,s),f=(0,a.wU)(u,s),d=f>97?97:f,p=Math.cos(l)*d,b=Math.sin(l)*d;y({x:p,y:b}),t({angle:l,distance:d})}}}),[]);return(0,k.jsx)("div",{className:"Joystick",onMouseDown:w,onTouchStart:w,onMouseUp:x,onTouchEnd:x,onMouseMove:g,onTouchMove:g,role:"none",children:(0,k.jsx)("div",{className:"panel",style:{left:b,top:h},children:(0,k.jsx)("div",{className:"stick",style:{transform:"translateX(".concat(-d.y,"px) translateY(").concat(-d.x,"px)")}})})})}))},2554:function(n,t,e){"use strict";e.d(t,{Cn:function(){return c},Sy:function(){return l},f0:function(){return s},wU:function(){return u}});var r=e(2982),o=e(3431),i=e.n(o),a=e(46),c=function(n,t){return Math.atan2(n.x-t.x,n.y-t.y)},u=function(n,t){var e=n.x-t.x,r=n.y-t.y;return Math.sqrt(Math.pow(e,2)+Math.pow(r,2))},s=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"inCirc",e=2e4,r="inCirc"===t?a.DO.inCirc:a.DO.linear,o=i()(r[0],r[1],r[2],r[3]),c=Math.floor(o(n/e)*e/1e3);return"inCirc"===t&&n>e?n/1e3:c},l=function(n){for(var t,e=(0,r.Z)(n),o=n.length;0!==o;){t=Math.floor(Math.random()*o),o--;var i=[e[t],e[o]];e[o]=i[0],e[t]=i[1]}return e}},3411:function(n,t,e){var r=e(8081),o=e(3645)(r);o.push([n.id,".Joystick {\n  position: absolute;\n  top: 0px;\n  height: 100%;\n  width: 100%;\n  background-color: transparent;\n}\n.Joystick .panel {\n  background-color: rgba(255, 255, 255, 0.7);\n  pointer-events: none;\n  position: absolute;\n  margin-left: -8rem;\n  margin-top: -8rem;\n  height: 16rem;\n  width: 16rem;\n  border-radius: 9999px;\n}\n.Joystick .panel .stick {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  margin-left: -4rem;\n  margin-top: -4rem;\n  height: 8rem;\n  width: 8rem;\n  border-radius: 9999px;\n  --tw-bg-opacity: 1;\n  background-color: rgba(255, 255, 255, 1);\n  background-color: rgba(255, 255, 255, var(--tw-bg-opacity));\n}\n",""]),n.exports=o},2982:function(n,t,e){"use strict";e.d(t,{Z:function(){return i}});var r=e(907),o=e(181);function i(n){return function(n){if(Array.isArray(n))return(0,r.Z)(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||(0,o.Z)(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);