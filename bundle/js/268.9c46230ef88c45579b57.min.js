"use strict";(self.webpackChunk_2023_meiji_mushroom_mountain_store=self.webpackChunk_2023_meiji_mushroom_mountain_store||[]).push([[268],{2791:function(e,o,n){n.d(o,{GL:function(){return g},iQ:function(){return p},D2:function(){return v},_H:function(){return h},eu:function(){return b}});var t=n(7294),u=n(3324),r=n(5671),a=n(3144),i=n(1766),s=n.p+"bundle/audio/pages/free/mp3/bamboo.mp3",m=n.p+"bundle/audio/pages/free/mp3/bgm.mp3",l=n.p+"bundle/audio/pages/free/mp3/falling.mp3",d=n.p+"bundle/audio/pages/free/mp3/move.mp3",c=n.p+"bundle/audio/pages/free/mp3/mushroom.mp3",f=function(){function e(o){(0,r.Z)(this,e),this.onLoaded=function(){},this.tracks={},this.sounds=[{url:m,name:o.bgm,loop:!0,volume:.5},{url:s,name:o.bamboo,loop:!1,volume:1},{url:c,name:o.mushroom,loop:!1,volume:1},{url:l,name:o.falling,loop:!1,volume:1},{url:d,name:o.move,loop:!0,volume:1}],this.isMute=!1}return(0,a.Z)(e,[{key:"eachSoundLoad",value:function(e){this.tracks[e].loaded=!0,Object.values(this.tracks).filter((function(e){return e.loaded})).length===this.sounds.length&&this.onLoaded()}},{key:"loadSound",value:function(e){var o=this;this.onLoaded=e,this.tracks=Object.fromEntries(this.sounds.map((function(e){var n=new i.Howl({src:[e.url],autoplay:!1,loop:e.loop,volume:e.volume,onload:function(){return o.eachSoundLoad(e.name)}});return[e.name,{sound:n,loaded:!1}]})))}},{key:"mute",value:function(){Object.values(this.tracks).forEach((function(e){e.sound.volume(0)}))}},{key:"unmute",value:function(){var e=this;Object.entries(this.tracks).forEach((function(o){var n=(0,u.Z)(o,2),t=n[0],r=n[1],a=e.sounds.filter((function(e){return String(e.name)===t})),i=(0,u.Z)(a,1)[0].volume;r.sound.volume(i)}))}},{key:"switch",value:function(){this.isMute=!this.isMute,this.isMute?this.mute():this.unmute()}}]),e}(),h={unset:0,loaded:1,modelLoaded:2,didFadeIn:3},p={home:"/home",intro:"/intro",game:"/game",result:"/result",form:"/form",submitted:"/submitted"},b={bgm:0,bamboo:1,mushroom:2,move:3,falling:4},v={steps:h.unset,page:p.game,sounds:new f(b),soundsLoaded:!1,score:0,countdown:!1,over:!1},g=(0,t.createContext)(v)},2982:function(e,o,n){n.d(o,{Z:function(){return r}});var t=n(907),u=n(181);function r(e){return function(e){if(Array.isArray(e))return(0,t.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,u.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);