"use strict";(self.webpackChunk_2023_meiji_mushroom_mountain_store=self.webpackChunk_2023_meiji_mushroom_mountain_store||[]).push([[787,219],{5787:function(e,o,n){n.d(o,{GL:function(){return g},iQ:function(){return f},D2:function(){return b},_H:function(){return p},eu:function(){return v}});var u=n(7294),t=n(885),s=n(5671),a=n(3144),i=n(1766),m=n.p+"bundle/audio/pages/game/mp3/bamboo.mp3",r=n.p+"bundle/audio/pages/game/mp3/bgm.mp3",l=n.p+"bundle/audio/pages/game/mp3/falling.mp3",d=n.p+"bundle/audio/pages/game/mp3/move.mp3",c=n.p+"bundle/audio/pages/game/mp3/mushroom.mp3",h=function(){function e(o){(0,s.Z)(this,e),this.onLoaded=function(){},this.tracks={},this.sounds=[{url:r,name:o.bgm,loop:!0,volume:.5},{url:m,name:o.bamboo,loop:!1,volume:1},{url:c,name:o.mushroom,loop:!1,volume:1},{url:l,name:o.falling,loop:!1,volume:1},{url:d,name:o.move,loop:!0,volume:1}],this.isMute=!1}return(0,a.Z)(e,[{key:"eachSoundLoad",value:function(e){this.tracks[e].loaded=!0,Object.values(this.tracks).filter((function(e){return e.loaded})).length===this.sounds.length&&this.onLoaded()}},{key:"loadSound",value:function(e){var o=this;this.onLoaded=e,this.tracks=Object.fromEntries(this.sounds.map((function(e){var n=new i.Howl({src:[e.url],autoplay:!1,loop:e.loop,volume:e.volume,onload:function(){return o.eachSoundLoad(e.name)}});return[e.name,{sound:n,loaded:!1}]})))}},{key:"mute",value:function(){Object.values(this.tracks).forEach((function(e){e.sound.volume(0)}))}},{key:"unmute",value:function(){var e=this;Object.entries(this.tracks).forEach((function(o){var n=(0,t.Z)(o,2),u=n[0],s=n[1],a=e.sounds.filter((function(e){return String(e.name)===u})),i=(0,t.Z)(a,1)[0].volume;s.sound.volume(i)}))}},{key:"switch",value:function(){this.isMute=!this.isMute,this.isMute?this.mute():this.unmute()}}]),e}(),p={unset:0,loaded:1,modelLoaded:2,didFadeIn:3},f={home:"/home",intro:"/intro",game:"/game",result:"/result",form:"/form",submitted:"/submitted"},v={bgm:0,bamboo:1,mushroom:2,move:3,falling:4},b={steps:p.unset,page:f.home,sounds:new h(v),soundsLoaded:!1,score:0,countdown:!1,over:!1,replay:!1},g=(0,u.createContext)(b)}}]);